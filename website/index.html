<!DOCTYPE html>
<html lang="en">
<style>
    button {
        display: inline-block;
        background-color: #000000;
        border-radius: 10px;
        border: 4px double #cccccc;
        color: #f2f0f0;
        text-align: center;
        font-size: 25px;
        padding: 20px;
        width: 500px;
        transition: all 0.5s;
        cursor: pointer;
        margin: 5px;
      }
      button span {
        cursor: pointer;
        display: inline-block;
        position: relative;
        transition: 0.5s;
      }
      button span:after {
        content: "\00bb";
        position: absolute;
        opacity: 0;
        top: 0;
        right: -20px;
        transition: 0.5s;
      }
      button:hover {
        background-color: #861677;
      }
      button:hover span {
        padding-right: 25px;
      }
      button:hover span:after {
        opacity: 1;
        right: 0;
      }
</style>
 <head>
    <script type="text/javascript">
        // 
        function direBonjour() {
          fetch("spotify_dataset.json")
            .then(response => response.json())
            .then(data => {
                console.log(data)
                test1 = Math.floor(Math.random() * 1555);
                test2 = Math.floor(Math.random() * 1555);
                var txtbtn1 = document.getElementById('txtbtn1');
                var txtbtn2 = document.getElementById('txtbtn2');
                txtbtn1.textContent = data[test1]['Artist']+",'"+ data[test1]['Song Name']+"'";
                var btn = document.getElementById("btn1");
                var btn2 = document.getElementById("btn2");
                txtbtn2.textContent = data[test2]['Artist']+",'"+ data[test2]['Song Name']+"'";
                var btn3 = document.getElementById("btn3")
                var txtbtn3 = document.getElementById('txtbtn3');
                txtbtn3.textContent = "Next"
                var txt1 = document.getElementById('1p');
                let score = parseInt(document.getElementById("score").innerHTML);
                let hscore = parseInt(document.getElementById("hscore").innerHTML);
                txt1.textContent ="";
                
                
    
                btn.addEventListener('click', updateBtn);
                btn2.addEventListener('click', updateBtn2);
                
                btn3.removeEventListener('click', direBonjour)
               
    
                function updateBtn() {
                  if ( parseFloat(data[test1]['Streams'].replace(/,/g, ''))> parseFloat(data[test2]['Streams'].replace(/,/g, ''))) {
                  txt1.textContent = "Congratulation,  " + txtbtn1.textContent + " has been streamed " + data[test1]['Streams'] + " times compare to "
                  + data[test2]['Streams'] + " for " +txtbtn2.textContent ;
                  document.getElementById("score").innerHTML = score + 1;
              
                  } else {
                  txt1.textContent = "Wrong ! " + txtbtn1.textContent + " has only been streamed " + data[test1]['Streams'] + " times compare to "
                  + data[test2]['Streams'] + " for " +txtbtn2.textContent+", try again !";
                  txtbtn3.textContent = "Restart game"
                  if ( score > hscore)
                  {
                    document.getElementById("hscore").innerHTML = score;
                  }
                  document.getElementById("score").innerHTML = 0;
                  
                  }
                  btn.removeEventListener('click', updateBtn);
                  btn2.removeEventListener('click', updateBtn2);
                  btn3.addEventListener('click', direBonjour)
                  
                }
                function updateBtn2() {
                  if ( parseFloat(data[test1]['Streams'].replace(/,/g, ''))< parseFloat(data[test2]['Streams'].replace(/,/g, ''))) {
                  txt1.textContent = "Congratulation,  " + txtbtn2.textContent + " has been streamed " + data[test2]['Streams'] + " times compare to "
                  + data[test1]['Streams'] + " for " +txtbtn1.textContent ;
                  document.getElementById("score").innerHTML = score + 1;
    
                  } else {
                  txt1.textContent = "Wrong ! " + txtbtn2.textContent + " has only been streamed " + data[test2]['Streams'] + " times compare to "
                  + data[test1]['Streams'] + " for " +txtbtn1.textContent+", try again !";
                  txtbtn3.textContent= "Restart game"
                  if ( score > hscore)
                  {
                    document.getElementById("hscore").innerHTML = score;
                  }
                  document.getElementById("score").innerHTML = 0;
                  }
                  btn.removeEventListener('click', updateBtn);
                  btn2.removeEventListener('click', updateBtn2);
                  btn3.addEventListener('click', direBonjour)
                  
                }
    
                
        })}
        </script>
    <title>SpotifyTop200</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="style/main.css" />


    <!--spotify logo in the tab -->
     <link rel="icon" type="image/svg" href="imgWebsite/Spotify_App_Logo.png">
     
     <link rel="stylesheet" type="text/css" href="style/fullpage.css" />

     <link href="https://cdn.lineicons.com/3.0/lineicons.css" rel="stylesheet">
    <!-- jquery -->
     <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>
     <!--<script src="https://d3js.org/d3.v7.min.js"  charset="utf-8"></script>-->
     <script src="https://d3js.org/d3.v4.min.js"></script>
     
     
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/sankey.js"></script>
    <script src="https://code.highcharts.com/modules/dependency-wheel.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <style>
        	/* Overwriting styles for navigation bullets
                * --------------------------------------- */
                #fp-nav ul li a span, 
                .fp-slidesNav ul li a span{
                    background: white;
	}

    </style>

   <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">

    </head>


    <body>
        <div id="fullpage">
            <!--first page : spotify logo-->
            <div class="section " id="section0">
                <div style="text-align:center; margin-top: 90px;">
                    <img src="imgWebsite/spotify-1.svg" width='85%' height="85%"></img>
                </div>
                <!--<h2>Spotify Top 200 2020-2021</h2>-->
            </div>
            <!--second page : explanation/introduction-->
            <div class="section" id="section1">
                <div class="intro">
                    <h2 class="pagetitle">Top 200 from 2020 to 2021</h2>
                    <br>
                        <div class="explanation" style="width:60%">
                          With the launch of streaming platforms such as Spotify, a new way of discovering and listening to music has emerged. 
			              A huge change for both listeners and performers. It is easy to find the songs from a group of friends playing in the 
                          small concert halls of our town as it is for the ones of an award-winning artist. Every performer has a chance to reach
                          and touch people from around the world.
                          <br><br>
                          Since the accessibility to music is not a big issue anymore, one can therefore wonder what makes or breaks the popularity of an 
                          artist nowadays. 
                          <br><br>
			              Let’s try to find out by having a look at the top charts of Spotify: all the songs that have been on the Top 200 Weekly
                           in 2020 and 2021.
                        </div>
                </div>
            </div>
             <!--third page : Menu -->
            <div class="section" id="section3">   
                <h2 class="pagetitle">Good morning</h2>
                <br>
                <table style="width:60%; margin-left: 5%;" class="menu">
                    <tr>
                      <td><a href="#section4">Explore Top Artists</a></div> </td>
                      <td><a href="#section5">Explore Top songs</a></td>
                    </tr>
                    <tr>
                        <td><a href="#section6">Genres</a></td>
                        <td><a href="#section7">Music Features</a></td>
                    </tr>
                    <tr>
                      <td><a href="#section8">Popularity game</a></td>
                      <td><a href="#section8">Popularity game</a></td>
                    </tr>
                </table>
            </div>
             <!--fourth page : Explore top artists-->
            <div class="section" id="section4">
                <h2 class="pagetitle">Top artists</h2>
                <p class="explanation">
			You probably know most of those faces. In case you don’t, you can hover on their play button to discover more.
			<br>
			How many of them do you listen to on a regular basis?
		</p>
                <br>
                <div class="section--header">
                    <div class="section--header--left">
                        <h2 style="margin-left: 30px;">Top artists</h2>
                    </div>
                    <div class="section--header--right">
                        <a href="https://open.spotify.com/playlist/37i9dQZF1DWXgY89J4Sjdb" class="section--header--right--more" target="_blank">VIEW ALL</a>
                    </div>
                </div>
                <div class="section--body" >
                <table style="margin-left: auto;margin-right: auto;">
                    <tr>
                    <td>
                    <div class="section--body--item artist--item">
                        <div class="section--body--item--img">
                            <img src="https://i.gr-assets.com/images/S/compressed.photo.goodreads.com/books/1588347204i/53307166._SS1000_.jpg" alt="">    
                        </div>
                        <p class="section--body--item--title">
                            <div id="artist1" style="font-size:medium; font-weight:bold;"></div>                            
                        </p>
                        <p class="section--body--item--subtitle">Artist</p>
                        <div class="section--body--item--play">
                            <i class="lni lni-play" style="font-size: medium; position: relative; bottom:17px;" ></i>
                        </div>
                        
                        <div id="rectangle1" class="rectangle"></div>
                    </div>
                    </td>
                    <td>
                    <div class="section--body--item artist--item">
                        <div class="section--body--item--img">
                            <img src="https://flair-magazine.com/wp-content/uploads/2021/05/bts-lv_0.jpeg" alt="">
                        </div>
                        <p class="section--body--item--title">
                            <div id="artist2" style="font-size:medium; font-weight:bold;"></div>
                        </p>
                        <p class="section--body--item--subtitle">Artist</p>
                        <div class="section--body--item--play">
                            <i class="lni lni-play" style="font-size: medium; position: relative; bottom:17px;"></i>
                        </div>
                        <div id="rectangle2" class="rectangle"></div>
                    </div>
                    </td>
                    <td> 
                    <div class="section--body--item artist--item">
                        <div class="section--body--item--img">
                            <img src="https://static01.nyt.com/images/2020/02/24/arts/24billboard-item/24billboard-item-mediumSquareAt3X.jpg" alt="">
                        </div>
                        <p class="section--body--item--title">
                            <div id="artist3" style="font-size:medium; font-weight:bold;"></div>
                        </p>
                        <p class="section--body--item--subtitle">Artist</p>
                        <div class="section--body--item--play">
                            <i class="lni lni-play" style="font-size: medium; position: relative; bottom:17px;"></i>
                        </div>
                        <div id="rectangle3" class="rectangle"></div>
                    </div>
                    </td>
                    <td> 
                    <div class="section--body--item artist--item">
                        <div class="section--body--item--img">
                            <img src="https://nyunews.com/wp-content/uploads/2018/03/030118_liluzivert_facebook.jpg" alt="">
                        </div>
                        <p class="section--body--item--title">
                            <div id="artist4" style="font-size:medium; font-weight:bold;"></div>
                        </p>
                        <p class="section--body--item--subtitle">Artist</p>
                        <div class="section--body--item--play">
                            <i class="lni lni-play" style="font-size: medium; position: relative; bottom:17px;"></i>
                        </div>
                        <div id="rectangle4" class="rectangle"></div>
                    </div>
                    </td>
                    <td> 
                    <div class="section--body--item artist--item">
                        <div class="section--body--item--img">
                            <img src="https://i.pinimg.com/originals/da/b0/34/dab03471461222c2165987e51639d9bb.jpg" alt="">
                        </div>
                        <p class="section--body--item--title">
                            <div id="artist5" style="font-size:medium; font-weight:bold;"></div>
                        </p>
                        <p class="section--body--item--subtitle">Artist</p>
                        <div class="section--body--item--play">
                            <i class="lni lni-play" style="font-size: medium; position: relative; bottom:17px;"></i>
                        </div>
                        <div id="rectangle5" class="rectangle"></div>
                    </div>
                    </td>
                    <td> 
                    <div class="section--body--item artist--item">
                        <div class="section--body--item--img">
                            <img src="https://static01.nyt.com/images/2020/07/14/arts/13billboard/13billboard-mediumSquareAt3X.jpg" alt="">
                        </div>
                        <p class="section--body--item--title">
                            <div id="artist6" style="font-size:medium; font-weight:bold;"></div>
                        </p>
                        <p class="section--body--item--subtitle">Artist</p>
                        <div class="section--body--item--play">
                            <i class="lni lni-play" style="font-size: medium; position: relative; bottom:17px;"></i>
                        </div>
                        <div id="rectangle6" class="rectangle"></div>
                    </div>
                    </td>
                    </tr>
                    <tr>
                    <td> 
                    <div class="section--body--item artist--item">
                        <div class="section--body--item--img">
                            <img src="https://data.whicdn.com/images/318146168/original.jpg" alt="">
                        </div>
                        <p class="section--body--item--title">
                            <div id="artist7" style="font-size:medium; font-weight:bold;"></div>
                        </p>
                        <p class="section--body--item--subtitle">Artist</p>
                        <div class="section--body--item--play">
                            <i class="lni lni-play" style="font-size: medium; position: relative; bottom:17px;"></i>
                        </div>
                        <div id="rectangle7" class="rectangle"></div>
                    </div>
                </td>
                <td> 
                    <div class="section--body--item artist--item">
                        <div class="section--body--item--img">
                            <img src="https://static01.nyt.com/images/2021/02/02/arts/31popcast/31popcast-mediumSquareAt3X.jpg" alt="">
                        </div>
                        <p class="section--body--item--title">
                            <div id="artist8" style="font-size:medium; font-weight:bold;"></div>
                        </p>
                        <p class="section--body--item--subtitle">Artist</p>
                        <div class="section--body--item--play">
                            <i class="lni lni-play" style="font-size: medium; position: relative; bottom:17px;"></i>
                        </div>
                        <div id="rectangle8" class="rectangle"></div>
                    </div>
                </td>
                <td> 
                    <div class="section--body--item artist--item">
                        <div class="section--body--item--img">
                            <img src="https://f4.bcbits.com/img/a0923440747_16.jpg" alt="">
                        </div>
                        <p class="section--body--item--title">
                            <div id="artist9" style="font-size:medium; font-weight:bold;"></div>
                        </p>
                        <p class="section--body--item--subtitle">Artist</p>
                        <div class="section--body--item--play">
                            <i class="lni lni-play" style="font-size: medium; position: relative; bottom:17px;"></i>
                        </div>
                        <div id="rectangle9" class="rectangle"></div>
                    </div>
                </td>
                <td> 
                    <div class="section--body--item artist--item">
                        <div class="section--body--item--img">
                            <img src="https://www.femalefirst.co.uk/image-library/square/1000/t/the-weeknd-promo-shot.jpg" alt="">
                        </div>
                        <p class="section--body--item--title">
                            <div id="artist10" style="font-size:medium; font-weight:bold;"></div>
                        </p>
                        <p class="section--body--item--subtitle">Artist</p>
                        <div class="section--body--item--play">
                            <i class="lni lni-play" style="font-size: medium; position: relative; bottom:17px;"></i>
                        </div>
                        <div id="rectangle10" class="rectangle"></div>
                    </div>
                </td>
                <td> 
                    <div class="section--body--item artist--item">
                        <div class="section--body--item--img">
                            <img src="https://pyxis.nymag.com/v1/imgs/8a0/881/e5d0cc7883f97e26f50f39389cc4c20df4-20-j-cole.rsquare.w700.jpg" alt="">
                        </div>
                        <p class="section--body--item--title">
                            <div id="artist11" style="font-size:medium; font-weight:bold;"></div>
                        </p>
                        <p class="section--body--item--subtitle">Artist</p>
                        <div class="section--body--item--play">
                            <i class="lni lni-play" style="font-size: medium; position: relative; bottom:17px;"></i>
                        </div>
                        <div id="rectangle11" class="rectangle"></div>
                    </div>
                </td>
                <td> 
                    <div class="section--body--item artist--item">
                        <div class="section--body--item--img">
                            <img src="https://i.pinimg.com/736x/1b/ce/bb/1bcebb1549e3c302861e236cef4b9ab1.jpg" alt="">
                        </div>
                        <p class="section--body--item--title">
                            <div id="artist12" style="font-size:medium; font-weight:bold;"></div>
                        </p>
                        <p class="section--body--item--subtitle">Artist</p>
                        <div class="section--body--item--play">
                            <i class="lni lni-play" style="font-size: medium; position: relative; bottom:17px;"></i>
                        </div>
                        <div id="rectangle12" class="rectangle"></div>
                    </div>
                    </td> 
                    </tr>
                </table>
                </div>               
            </div>
             <!--fifth page : Explore top songs-->
            <div class="section" id="section5">
                <h2 class="pagetitle">Top songs</h2>
                <div class="explanation">
			Do you see similarities between your favorite songs recently and the top playlist of the moment? There probably are some. Have a look! 
		</div>
                <br>
                <iframe style="border-radius:12px;width:1300px;" src="https://open.spotify.com/embed/playlist/52fYMztExEevBc7NOm3Hwv?utm_source=generator&theme=0" 
		width="100%" height="500" frameBorder="0" allowfullscreen="" allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture">
		</iframe>

             <!--sixth page : Genres circle graph -->
            </div>
            <div class="section" id="section6">
                <h2 class="pagetitle">Genres</h2>
                <br>
                <div id="genres">
                    
                    <div id="genresexplanation" style="width: 30%; margin-left: 5%; margin-top: 2%;">
                        <p id="genretext"> 
				By having a deeper look into the reasons of this popularity, we can see how the genre of music may affect it. 
				For decades now pop music, as it can be guessed from the name (pop for popular), has been on the top charts. With this accessibility and online 
				diffusion of music its success has only grown. The popularity of a certain music genre has the opportunity to grow exponentially 
				as the artists’ fame. Hip-hop and latin music such as reggaeton have also gained in popularity over the last decades with more
                artists being recognized internationally. Hover over the genre names to get more information about them!
			    </p>
                    </div>
                    <div id="container" style="width: 70%;"></div>
                    <script src="js/genres.js"></script>
                </div>
            </div>

             <!--seventh page : music features -->
            <div class="section" id="section7">
                <h2 class="pagetitle">Music features</h2>
                <p class="explanation">
                    Well, it is interesting to have the names and some definitions of the top songs but let’s have a more scientific approach.
                     There is a possibility to quantify certain characteristics of music, which you can observe below. Each feature is represented in a graph, and you can see its explanation when hovering on the title. This shows us
                     how most popular songs are built and which aspects are brought forward to please the listener.
                </p>
                <br>
                <!--<hr style="width:100%;text-align:left;margin-left:0; border-color: #998ece; color: #998ece; border-width: 2px; ">-->
                <table class='graphs'>
                    <tr>
                      <td><div id="hist1" ></div> </td>
                      <td><div id="hist2" ></div> </td>
                      <td><div id="hist3" ></div> </td>
                    </tr>
                    <tr>
                      <td><div id="hist4" ></div> </td>
                      <td><div id="hist5" ></div> </td>
                      <td><div id="hist6" ></div> </td>
                    </tr>
                </table>
                  
                <script src="js/music_features.js"></script>

            </div>

            <!--eigth page : game -->
            <div class="section" id="section8">
                <center>
                    <font size = 4>
                        <h1>Welcome to the music game</h1>
                        <br>
                        <p class ="explanation">Here the goal is to guess which song has been the most streamed between 2020 and 2021 on spotify, every good guess you score 1 point, carefull though at the first mistake you lose all your point !
                              


                        </p>
                        <br>
                        <button id ="btn1">
                            <p id = "txtbtn1"></p>
                        </button>
                        <button id ="btn2">
                          <p id = "txtbtn2"></p>
                        </button>
                        <p><button id ="btn3">
                          <p id = "txtbtn3">Next</p>
                        </button></p>
                    
                    
                    
                        
                    
                        <p id = "1p"></p>
                        <p id = "2p">Score : <span class="score" id = "score">0</span></p>
                        <p id = "3p">Your highscore is : <span class="score" id = "hscore">0</span></p>
                    </font>
                  </center>
                  <script type="text/javascript">
                  // Ici on apelle la fonction
                  direBonjour()
                  </script>
            </div>
        </div>

        <script type="text/javascript" src="js/fullpage.js"></script>
        

        <script type="text/javascript">
            var myFullpage = new fullpage('#fullpage', {
                continuousVertical: true,
                navigation: true,
            });
        </script>

        <script>
            $.getJSON("data/top12artists.json", function(data) {
            for(var i = 0; i<data.length ; i++) {
                var mainContainer = document.getElementById("artist"+data[i].Rank);
                var div = document.createElement("div");
                div.innerHTML = data[i].Artist;
                mainContainer.appendChild(div);
                var rec = document.getElementById("rectangle"+data[i].Rank);
                var div2 = document.createElement("div");
                div2.innerHTML = '<br>'+'Artist : '.bold() + data[i].Artist.bold() + '<br><br>' +'Rank'.bold()+' : #' + 
                data[i].Rank  + '<br><br>'  +'Top song : '.bold() + data[i]['Top song'] 
                + '<br><br>' +'Genres : '.bold() + data[i].Genres; 
                rec.appendChild(div2)
            }
            
            });
        </script>

       
    </body>



</html>

